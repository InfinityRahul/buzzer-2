<!DOCTYPE html>
<html>
<head>
	<title>Host A Buzzer Room</title>
	<script src="/../../socket.io/socket.io.js"></script>
	<script type="text/javascript">
		var socket = io.connect(location.origin);
		socket.emit("create", "");
	</script>
	<style type="text/css">
		body {
			background: #c0c0c0;
		}
		h1 {
			text-align: center;
			margin: auto;
		}
		#indicator {
			background: #00cc00;
			color: #ffffff;
			width:30vh;
			height:30vh;
			text-align: center;
			font-size: 6vh;
			margin:auto;
			line-height: 30vh;
			user-select: none;
			border-radius: 1.5vh;
		}
		div {
			text-align: center;
			margin: auto;
			margin-top: 1vh;
			font-size: 5vh;
		}
		#reset {
			margin: auto;
			text-align: center;
		}
		#code {
			font-weight: bold;
			font-size: 15vh;
		}
	</style>
</head>
<body>
<h1>Host A Buzzer Room</h1>
<div><u>Your Room Code is:</u></div>
<div id="code"></div>
<div id="indicator">Waiting</div>
<div><button id="reset">Reset Buzzer</button></div>
<div><u>Answering:</u></div>
<div id="answering"><i>No One</i></div>
<audio id="buzz">
	<source src="/../assets/buzzer.mp3" type="audio/mpeg">
</audio>
<script type="text/javascript">
	var codeIndicator = document.getElementById("code");
	var indicator = document.getElementById("indicator");
	var reset = document.getElementById("reset");
	var answering = document.getElementById("answering");
	var buzz = document.getElementById("buzz");
	reset.addEventListener('click', function() {
		socket.emit("reset", "");
	});
	socket.on("code", function(data) {
		codeIndicator.innerHTML = data;
	});
	socket.on("buzzed", function(data) {
		console.log(data);
		indicator.innerHTML = "Buzzed";
		indicator.style.background = "#ff0000";
		answering.innerHTML = data;
		buzz.play();
	});
	socket.on("reset", function(data) {
		indicator.innerHTML = "Waiting";
		indicator.style.background = "#00cc00";
		answering.innerHTML = "<i>No One</i>";
	});
</script>
</body>
</html>